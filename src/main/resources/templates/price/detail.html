<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/default">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>价格详情</title>
</head>
<body>
	<div layout:fragment="content">
		<div class="row" style="margin-bottom: 12px;">
			<div th:replace="fragments/searchBox::topSearch"></div>
			<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
				<shiro:hasPermission name="price:new-line">
					<a type="button" class="btn btn-sm btn-success pull-right"
						title="添加新价格" th:href="@{/prices/newline}">添加新价格</a>
				</shiro:hasPermission>
			</div>
		</div>

		<div class="row">
			<div class="col-lg-12 col-md-12 col-sm-12 xol-xs-12">
				<div class="table-responsive">

					<fieldset>
						<legend th:text="'价格表明细 ' + ${priceHeader.name}"></legend>
						<table class='table table-striped table-hover table-condensed'>
							<thead>
								<tr>
									<th>产品型号</th>
									<th>型号描述</th>
									<th>采购量(&gt;)</th>
									<th>采购量(&lt;&eq;)</th>
									<th>单位</th>
									<th>单价</th>
									<th>币别</th>
									<th>生效日期</th>
									<th>终止日期</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="line: ${lines}" th:object="${line}">
									<td th:text="*{inventoryItemName}">model_name</td>
									<td th:utext="*{inventoryItemDescription}">model_desc</td>
									<td class="number small-bold-red text-right"
										th:text="*{minOrderQuantity} != -222 ? *{minOrderQuantity} : ''"></td>
									<td class="number small-bold-red text-right"
										th:text="*{maxOrderQuantity} != -222 ? *{maxOrderQuantity} : ''"></td>
									<td th:text="*{uom}"></td>
									<td class="number small-bold-red text-right"
										th:text="*{#numbers.formatDecimal(unitPrice,0,2)}"></td>
									<td th:text="${priceHeader.currency}"></td>
									<td th:text="*{#dates.format(startDate, 'yyyy-MM-dd')}">start_date_active</td>
									<td th:text="*{endDate}">end_date_active</td>
								</tr>
							</tbody>
						</table>
					</fieldset>
				</div>
			</div>
		</div>
		
		<div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 table-responsive">
                <fieldset>
                    <legend>此价格表应用于以下客户</legend>
                    <div th:if="${#lists.isEmpty(customers)}">
                        <p class="text-center text-warning" style="padding-bottom: 2rem;">
                            哇喔〜〜〜，目前此价格表还没分配给任何客户。</p>
                    </div>
                    <div th:unless="${#lists.isEmpty(customers)}"
                        th:replace="customer/index::showCustomers(${customers})"></div>
                </fieldset>
            </div>
        </div>
	</div>
</body>
</html>
